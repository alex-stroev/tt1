!function(){"use strict";var e=[,function(e,t,n){function r(e){let t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild}n.r(t),n.d(t,{createElementFromHTML:function(){return r}})},function(e,t,n){n.r(t),n.d(t,{maskPhone:function(){return r}});const r=e=>{if(!Boolean(e))return void console.log("no input");e.addEventListener("input",(t=>{const n=e.value.replace(/\D+/g,"");let r;r=e.value.includes("+8")||"8"===e.value[0]?"":"+";for(let e=0;e<n.length&&e<11;e++){switch(e){case 0:r+="7"===(o=n[e])?"7 (":"8"===o?"8 (":"9"===o?"7 (9":"7 (";continue;case 4:r+=") ";break;case 7:case 9:r+="-"}r+=n[e]}var o;e.value=r}))}}],t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};!function(){n.r(r);var e=n(1),t=n(2),o=new Headers;let s;o.append("X-API-KEY","P3RTS9G-2YH4XAV-QWKVWAZ-E9XFFDQ"),fetch("https://api.kinopoisk.dev/v1.4/movie?rating.imdb=8-10&limit=24",{method:"GET",headers:o,redirect:"follow"}).catch((()=>{l("неизвестен")})).then((e=>{if(console.log(e.status),console.log("response.ok "+e.ok),200!==e.status)throw l(e.status),new Error("HTTP status "+e.status);return e.json()})).then((e=>{s=e})).then((()=>console.log(s))).then((()=>s.docs.map((e=>a(e))))).finally((()=>{document.querySelector(".js-preloader").remove()}));const i=document.querySelector(".js-movies-catalog"),a=t=>{const n=(0,e.createElementFromHTML)(`\n    <div class="movie-item">\n    <div class="movie-item__title"><h3>${t.name}</h3></div>\n    <div class="movie-item__pic">\n        <img src="${t.poster.previewUrl}" alt="${t.name}" />\n    </div>\n</div>\n\n`);i.append(n)};function l(t){const n=(0,e.createElementFromHTML)(`\n    <div class="error">\n    <div class="error__text">\n        Увы, произошла ошибка <span>(код ${t})</span> 😭. <br />\n        Попробуйте зайти попозже.\n    </div>\n</div>\n    `);i.replaceWith(n)}const c=document.querySelector("form"),u=document.getElementById("name"),d=document.getElementById("tel"),m=c.querySelector("input[type=submit]"),v=document.querySelector(".js-form-result");u.addEventListener("input",p),d.addEventListener("input",p),(0,t.maskPhone)(d);function p(){d.value.replace(/[^0-9\\.]+/g,"").length>=11&&u.value.length>=2?m.disabled=!1:m.disabled=!0}c.addEventListener("submit",(t=>{t.preventDefault(),((t,n)=>{v.innerHTML="";const r=(0,e.createElementFromHTML)(`\n    <div class="form-result">\n        <div class="form-result__name"><strong>Имя: </strong> ${t}</div>\n        <div class="form-result__tel"><strong>Телефон: </strong>${n}</div>\n    </div>   \n        `);v.append(r)})(u.value,d.value),c.reset(),m.disabled=!0}))}()}();